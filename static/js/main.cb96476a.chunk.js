(this["webpackJsonptensor-show"]=this["webpackJsonptensor-show"]||[]).push([[0],{118:function(e,t,a){e.exports=a(208)},128:function(e,t){},130:function(e,t){},163:function(e,t){},164:function(e,t){},17:function(e,t){},208:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),l=a.n(o),i=a(226),s=Object(i.a)((function(e){return{app:{flexGrow:1}}})),c=a(22),d=a(21),u=a(30),p=a.n(u),h=a(45),f=a.n(h);function y(e){var t=e.layerName,a=e.layerType,r=e.inputShape,o=e.outputShape,l=e.addChild,i=e.editLayer;return n.a.createElement("svg",{x:e.x,y:e.y,width:"210px",height:"210px",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("defs",null,n.a.createElement("linearGradient",{x1:"47.0796717%",y1:"83.3533249%",x2:"27.04726%",y2:"185.215584%",id:"linearGradient-1"},n.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),n.a.createElement("stop",{stopColor:"#000000",offset:"100%"})),n.a.createElement("path",{d:"M204,174 C204,189.463973 191.463973,202 176,202 L32,202 C16.536027,202 4,189.463973 4,174 L4,2 L204,2 L204,174 Z",id:"path-2"}),n.a.createElement("filter",{x:"-5.5%",y:"-5.5%",width:"113.0%",height:"113.0%",filterUnits:"objectBoundingBox",id:"filter-3"},n.a.createElement("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"shadowSpreadOuter1"}),n.a.createElement("feOffset",{dx:"2",dy:"2",in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),n.a.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})),n.a.createElement("path",{d:"M204,46.4725275 C204,61.123246 188.777681,73 170,73 L38,73 C19.2223185,73 4,61.123246 4,46.4725275 L4,2 L204,2 L204,46.4725275 Z",id:"path-4"}),n.a.createElement("filter",{x:"-3.5%",y:"-7.0%",width:"107.0%",height:"119.7%",filterUnits:"objectBoundingBox",id:"filter-5"},n.a.createElement("feOffset",{dx:"0",dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.a.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.a.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),n.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"}))),n.a.createElement("g",{id:"LayerCard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"LayerCardBase"},n.a.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-3)",xlinkHref:"#path-2"}),n.a.createElement("use",{fill:"url(#linearGradient-1)",fillRule:"evenodd",xlinkHref:"#path-2"})),n.a.createElement("g",{id:"LayerTitleBox"},n.a.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-5)",xlinkHref:"#path-4"}),n.a.createElement("use",{fillOpacity:"0.913625437",fill:"#FF8105",fillRule:"evenodd",style:{mixBlendMode:"darken"},xlinkHref:"#path-4"})),n.a.createElement("path",{d:"M121.320755,52 C128.213894,52 133.82228,56.3383345 133.995859,61.7418955 L134,62 L134,73 L70,73 L70,62 C70,56.4771525 75.6766915,52 82.6792453,52 L121.320755,52 Z",id:"EditButton",onClick:i,fillOpacity:"0.4",fill:"#000000"}),n.a.createElement("text",{id:"EditLayerText",fontFamily:"Helvetica-Bold, Helvetica",fontSize:"8",fontWeight:"bold",fill:"#000000"},n.a.createElement("tspan",{x:"82",y:"66"},"Edit Layer")),n.a.createElement("text",{id:"LayerTitle",fontFamily:"Helvetica-Bold, Helvetica",fontSize:"20",fontWeight:"bold",fill:"#F6EEEA"},n.a.createElement("tspan",{x:"44.8007812",y:"27"},t)),n.a.createElement("rect",{id:"InfoLabelBox",x:"12",y:"83",width:"61",height:"83"}),n.a.createElement("rect",{id:"InfoTextBox",x:"75",y:"83",width:"119",height:"83"}),n.a.createElement("text",{id:"LayerTypeLabe;",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"48.61",y:"99"},"Type")),n.a.createElement("text",{id:"InputShapeLabel",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"18.53",y:"127"},"Input Shape")),n.a.createElement("text",{id:"OutputShapeLabel",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"10.75",y:"155"},"Output Shape")),n.a.createElement("line",{x1:"82",y1:"166",x2:"82",y2:"83",id:"InfoDivider",stroke:"#979797"}),n.a.createElement("text",{id:"LayerTypeText",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"87",y:"93"},a)),n.a.createElement("text",{id:"InputShapeText",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"87",y:"123"},r)),n.a.createElement("text",{id:"OutputShapeText",fontFamily:"Helvetica-Light, Helvetica",fontSize:"10",fontWeight:"300",fill:"#000000"},n.a.createElement("tspan",{x:"87",y:"151"},o)),n.a.createElement("path",{d:"M142.858491,176 C157.848332,176 170,181.596441 170,188.5 C170,188.667706 169.992829,188.834641 169.97862,189.000742 L170,189 L170,202 L33,202 L33,189 L33.0213798,189.000742 C33.0071711,188.834641 33,188.667706 33,188.5 C33,181.596441 45.1516677,176 60.1415094,176 L142.858491,176 Z",id:"Toolbar",fillOpacity:"0.4",fill:"#000000",onClick:function(t){return l(t,e.sender_pos)}}),n.a.createElement("text",{id:"AddLayerText",fontFamily:"Helvetica-Bold, Helvetica",fontSize:"10",fontWeight:"bold",fill:"#FFFFFF",fillOpacity:"0.734238418"},n.a.createElement("tspan",{x:"75",y:"191"},"Add Layer"))))}var v=a(27),g=n.a.createContext(null),x=n.a.createContext(null),m=function e(t,a){var r,n,o,l,i,s,d,u=a,p=u-1,h=Object(c.a)({},t),f=Object.keys(h.rows[u].groups);for(f.sort(),r=0;r<f.length;r++)for(d=0,o=f[r],i=Object.keys(h.rows[u].groups[o].slots).sort(),n=0;n<i.length;n++)l=i[n],h.rows[u].groups[o].slots[l].disp.x=d,d+=h.rows[u].groups[o].slots[l].disp.width;if(h=function(e,t){var a,r,n,o,l,i,s;for((a=Object.keys(e.rows[t].groups)).sort(),n=0;n<a.length;n++){for(s=0,l=a[n],r=Object.keys(e.rows[t].groups[l].slots),o=0;o<r.length;o++)i=r[o],s+=e.rows[t].groups[l].slots[i].disp.width;e.rows[t].groups[l].disp.width=s}var c=0;for((a=Object.keys(e.rows[t].groups)).sort(),n=0;n<a.length;n++)l=a[n],e.rows[t].groups[l].disp.x=c,c+=e.rows[t].groups[l].disp.width;return e.rows[t].disp.width=c,e}(h,u),-1==p)return h;for(r=0;r<f.length;r++)o=f[r],o=(s=h.rows[u].groups[o]).sender_group,l=s.sender_slot,h.rows[u-1].groups[o].slots[l].disp.width=s.disp.width;return e(h,p)},w=function(e,t){switch(t.type){case"init":return e;case"delete_node":var a=Object(c.a)({},e),r=t.sender_pos.row,n=t.sender_pos.group,o=t.sender_pos.slot;!function e(t,a,r){var n,o,l,i;if(void 0!==t.rows[a]&&void 0!==t.rows[a].groups[r]){var s=Object.keys(t.rows[a].groups[r].slots).sort();if(void 0!==s){for(l=0;l<s.length;l++)i=s[l],e(t,a+1,"".concat(r).concat(i)),delete t.rows[a].groups[r].slots[i];delete t.rows[a].groups[r];var c=!0,d=Object.keys(t.rows[a].groups);for(n=0;n<d.length;n++)for(o=d[n],s=Object.keys(t.rows[a].groups[o].slots),l=0;l<s.length;l++)i=s[l],t.rows[a].groups[o].slots[i].render&&(c=!1);c&&(console.log("DELETE ROW:",a),delete t.rows[a])}}}(a,r+1,"".concat(n).concat(o)),delete a.rows[r].groups[n].slots[o];var l=Math.max.apply(Math,Object(v.a)(Object.keys(a.rows).map((function(e){return parseInt(e,10)}))));return a=m(Object(c.a)({},a),l);case"add_child":a=Object(c.a)({},e);var i=t.sender_pos.row,s=t.sender_pos.group,d=t.sender_pos.slot,u=a.rows[i].groups[s].slots[d],p=(u.group_path,u.slot_path,i+1),h="".concat(s).concat(d),f=t.sender_pos.connection;void 0===a.rows[i+1]&&(a.rows[i+1]={disp:{x:0,y:0+300*(i+1),width:250,height:300},groups:{}});for(var y,g,x,w,E,C,O,L,_=Object.keys(a.rows),b=0;b<_.length-1;b++){w=parseInt(_[b],10),O=a.rows[w],g=Object.keys(O.groups).sort();for(var S=0;S<g.length;S++){E=g[S],L=a.rows[w].groups[E],x=Object.keys(L.slots).sort();for(var k=0;k<x.length;k++)C=x[k],a.rows[w].groups[E].slots[C],y="".concat(E).concat(C),void 0===a.rows[w+1].groups[y]&&(a.rows[w+1].groups[y]={disp:{x:0,y:0,width:250,height:300},sender_group:E,sender_slot:C,slots:{0:{disp:{x:0,y:0,width:250,height:300},active_connections:[!1,!1,!1,!1],render:!1}}})}}a.rows[p].groups[h];var j={disp:{x:0,y:0,height:300,width:250},active_connections:[],render:!0,hash:t.hash};return a.rows[p].groups[h].slots[f]=j,a.rows[i].groups[s].slots[d].active_connections.push(f),a=m(Object(c.a)({},a),_.length-1);default:return e}},E=function(e){var t={rows:{0:{disp:{x:0,y:0,height:300,width:250},groups:{0:{disp:{x:0,y:0,height:300,width:250},slots:{0:{disp:{x:0,y:0,height:300,width:250},active_connections:[],render:!0,hash:f.a.stringify(p()(0))}}}}}}},a=n.a.useReducer((function(e,t){return w(e,t)}),t),r=Object(d.a)(a,2),o=r[0],l=r[1];return n.a.createElement(g.Provider,{value:o},n.a.createElement(x.Provider,{value:l},e.children))},C=function(){var e=n.a.useContext(g);return void 0===e?void alert("Please place useSVGCardStoreState in TreePosStoreStateContext"):e},O=function(){var e=n.a.useContext(x);return void 0===e?void alert("Please place useSVGCardStoreState in TreePosStoreDispatchContext"):e},L=n.a.createContext(null),_=n.a.createContext(null),b=function(e){var t=e.children,a=n.a.useState(!1),r=Object(d.a)(a,2),o=r[0],l=r[1];return n.a.createElement(L.Provider,{value:o},n.a.createElement(_.Provider,{value:l},t))},S=function(){var e=n.a.useContext(_);return void 0===e?void alert("Please place useDialogDispatch in DialogDispatchContext"):e},k=n.a.createContext(null),j=n.a.createContext(null),F=function(e){var t=e.children,a=n.a.useState(p()(0)),r=Object(d.a)(a,2),o=r[0],l=r[1];return n.a.createElement(k.Provider,{value:o},n.a.createElement(j.Provider,{value:l},t))},B=a(11),D=n.a.createContext(null),H=n.a.createContext(null),P=function(e){var t=e.children,a=n.a.useReducer((function(e,t){switch(t.type){case"add":return e[[t.layerID]]=t.layer_info,e}}),Object(B.a)({},f.a.stringify(p()(0)),{layer_name:"Input Layer",layer_type:"input_layer",layer_params:{}})),r=Object(d.a)(a,2),o=r[0],l=r[1];return n.a.createElement(D.Provider,{value:o},n.a.createElement(H.Provider,{value:l},t))},I=function(){var e=n.a.useContext(D);return void 0===e?void alert("Please place useCurrentLayerState in LayerInfoStoreStateContext"):e},T=window.devicePixelRatio;function M(){var e=C(),t=O(),a=S(),r=function(){var e=n.a.useContext(j);return void 0===e?void alert("Please place useCurrentLayerDispatch in CurrentLayerDispatchContext"):e}(),o=I();n.a.useEffect((function(){t({type:"init"})}),[]);for(var l,i,s,u,p,h,f,v,g,x,m,w,E,L,_,b,k,F,B,D,H=function(e,t){e.preventDefault();var n=1e6*Math.random();r({hash:n,sender_pos:t}),a(!0)},P=n.a.useState(!1),T=Object(d.a)(P,2),M=(T[0],T[1],function(e){e.preventDefault(),a(!0)}),W=[],z=[],A=[],G=Object(c.a)({},e),R=Object.keys(G.rows),N=R.length,Z=0;Z<N;Z++){var J=[];i=parseInt(R[Z],10),f=G.rows[i],L=(p=Object.keys(f.groups)).length;for(var U=0;U<L;U++){var V=[];s=p[U],v=f.groups[s],_=(h=Object.keys(v.slots)).length;for(var X=0;X<_;X++)if(u=h[X],l={position:"absolute",top:(x=(g=v.slots[u]).disp).y,left:x.x,height:x.height,width:x.width,textAlign:"center"},g.render&&(o[g.hash],E=n.a.createElement("div",{style:l,key:"".concat(i).concat(s).concat(u)},n.a.createElement(y,{x:x.x,y:x.y,addChild:H,editLayer:M,sender_pos:{row:Z,group:s,slot:u},layerName:"".concat(s).concat(u)})),V.push(E),G.rows[i+1])){var q={start_y:G.rows[i].disp.y+200,end_y:G.rows[i+1].disp.y,start_x:v.disp.x+g.disp.x,end_x:v.disp.x+g.disp.x+g.disp.width};W=[];b=[(q.end_x-q.start_x)/2,0],D=G.rows[i+1].groups["".concat(s).concat(u)],F=Object.keys(D.slots);for(var K=0;K<F.length;K++)(B=D.slots[F[K]]).render&&(k=[B.disp.x+B.disp.width/2,q.end_y-q.start_y],W.push(n.a.createElement("path",{stroke:"black",strokeWidth:4,fill:"transparent",d:"\n                    M ".concat(b[0]," ").concat(b[1],"\n                    C ").concat(b[0]," ").concat(b[1]+50,", ").concat(k[0]," ").concat(k[1]-50,",\n                    ").concat(k[0]," ").concat(k[1],"\n                    ")})));z.push(n.a.createElement("div",{style:{position:"absolute",left:q.start_x,top:q.start_y,width:q.end_x-q.start_x,height:q.end_y-q.start_y}},n.a.createElement("svg",{height:q.end_y-q.start_y,width:q.end_x-q.start_x},W)))}l={position:"absolute",top:(x=v.disp).y,left:x.x,height:x.height,width:x.width},w=n.a.createElement("div",{style:l,key:"".concat(i).concat(s)},V),J.push(w)}l={zIndex:100,position:"absolute",top:(x=f.disp).y,left:x.x,height:x.height,width:x.width},m=n.a.createElement("div",{style:l,key:"".concat(i)},J),A.push(m)}var Q=n.a.createElement("div",{x:0,y:0,width:1e4,height:1e4},A);return n.a.createElement("div",{style:{width:1e4,height:1e4}},z,Q)}console.log(T);var W=a(230),z=a(233),A=a(229),G=a(231);a(17);function R(e,t,a){return a.indexOf(e)===t}function N(){var e=function(){var e=n.a.useContext(L);return void 0===e?void alert("Please place useDialogState in DialogStateContext"):e}(),t=S(),a=function(){var e=n.a.useContext(k);return void 0===e?void alert("Please place useCurrentLayerState in CurrentLayerStateContext"):e}(),r=a.hash,o=a.sender_pos,l=C(),i=O(),s=(I(),function(){var e=n.a.useContext(H);return void 0===e?void alert("Please place useCurrentLayerDispatch in LayerInfoStoreDispatchContext"):e}());return n.a.createElement(W.a,{open:e,onClose:function(){return t(!1)}},n.a.createElement(z.a,{style:{display:"inline",float:"left"}},"EditLayer"),n.a.createElement(A.a,null,n.a.createElement(G.a,{onClick:function(e){e.preventDefault(),t(!1)},color:"primary"},"Cancel"),n.a.createElement(G.a,{onClick:function(e){e.preventDefault();var a=l.rows[o.row].groups[o.group].slots[o.slot].active_connections,n=(a=a.filter(R)).length;if(n>4)return alert("Limit Number of Connections Exceeded (N = 5)"),void t(!1);var d=Object(c.a)({},o,{connection:n});i({type:"add_child",sender_pos:d,hash:r}),s({type:"add",layerID:r,layer_info:{layer_name:"layer1"}}),t(!1)},color:"primary"},"Add"),n.a.createElement(G.a,{onClick:function(e){i({type:"delete_node",sender_pos:o}),t(!1)},color:"primary"},"Delete")))}function Z(){return n.a.createElement("div",null,n.a.createElement(M,null),n.a.createElement(N,null))}var J=function(){var e=s();return n.a.createElement("div",{className:e.app},n.a.createElement(E,null,n.a.createElement(F,null,n.a.createElement(b,null,n.a.createElement(P,null,n.a.createElement(Z,null))))))};l.a.render(n.a.createElement(J,null),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.cb96476a.chunk.js.map